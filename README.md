# AQM-LLM
AQM-LLM is developed based on [NetLLM Architecture + Llama2] and is applicable to LLM with L4S architecture.

Background：
Definition of L4S Architecture: Low Latency, Low Loss, and Scalable Throughput (L4S) Internet Service: Architecture. Link: https://datatracker.ietf.org/doc/rfc9330/
The goal of the L4S architecture is to enhance the congestion handling mechanisms in traditional TCP networks and to allow low latency, high throughput behavior between clients and servers that support the L4S architecture.Communication in the L4S architecture simply involves 2 components: congestion control algorithms and active queue management. The congestion control algorithm exists on the client side and the active queue management exists in the router. The congestion control algorithm is TCP's algorithm for avoiding network congestion and is one of the main congestion control measures on the Internet, whereas active queue management (AQM) is a policy that discards packets in a network interface controller (NIC) associated buffer before that buffer becomes full, usually with the goal of reducing network congestion or improving end-to-end latency.

The logic of the L4S architecture for handling congestion is that when congestion occurs, the AQM will mark the packets in the queue (ECN marking), and when the server replies to the client's ACK packet with this marking signal, this signal will be used to alert the client to perform a speed reduction. After the client performs the speed reduction, the congestion will be improved. the AQM of L4A will divert the sent packets, one is called L4S queue and the other is called classic queue. Only the L4S queue will do ECN marking without dropping packets, while the classic queue will drop packets. the L4S queue will hardly drop packets, and will only start dropping packets if the congestion is so severe that ECN marking cannot be handled. the ECN is divided into 0, 1, and 3. when the ECN=3, it means that the congestion is occurring, and when the ECN=1 it means that the congestion is not occurring, while the ECN=0 means that the sub-packets are not occurring. L4S is not supported and cannot be tagged.

CCA：Congestion control algorithm
AQM：Active queue management

Motivation：
The L4S architecture has the obvious advantage of allowing packets in the L4S queue to be marked when congestion occurs, and then the client will slow down after receiving an ACK alert from the server. However, it was found that the L4S architecture's approach to congestion handling is similar to “passive congestion handling”, in other words, “adjust the traffic signal when there is a traffic jam”. This passive congestion handling method only performs ECN marking when congestion occurs, and it is hoped that the L4S architecture can be improved by means of a large-scale language model, especially in terms of congestion handling. So a hypothesis is proposed: predicting network events is achieved by LLM, and ECNs are labeled in advance before the impending congestion occurs. e.g., at the actual congestion occurrence time of t=1.5, labeling at t=1.3 seconds can be achieved with the addition of LLM.

Experimental setup：
client1 will use 2 TCP Prague congestion control algorithms and client2 will use CUBIC and Reno congestion control algorithms. client2's congestion control algorithms don't support L4S architecture and client1 does. The router will enable DualPI2 as an AQM with a total of 4 flows for collecting L4S data.
